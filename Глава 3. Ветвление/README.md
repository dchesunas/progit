# Ветвление

## Преимущество ветвления в Git

В отличие от других систем контроля версий, в которых процесс создания новой ветки очень трудоемок и иногда происходит путем
копирования репозитория, в Git он очень легковесен и мержи и создания новых веток поощрается.

## О ветвлении в Git

Каждый коммит хранит ссылку на свой снимок, в котором перечисленны ссылки на блоб каждого файла и для всего этого вычисляется SHA сумма.
Так же коммит хранит указатель либо на один объект ( родительский коммит ), либо на два, если это коммит слияния.

Branch - это указатель, который ставится на коммит. 
Создадим еще один указатель на коммит, на котором находимся (git branch).

Можно легко посмотреть куда указывают HEAD, и остальные ветки (git log --decorate)

HEAD используется как указатель на текущую ветку (git checkout)

### Основы слияния и ветвления 

fast-forward слияние - перенос указателя вперед, происходит, если до коммита можно добраться по истории прямо.

Трехстороннее слияние для создание мерж коммита, если мы не может добраться прямо по истории до ветки


### Удаленные ветки

Это ссылки в локальном репозитории, которые нельзя двигать, они указывают на состояния, в котором находились ветки в удаленном репозитории
в момент последнего подключения.
После pull мы получаем оба указателя на один комит (master, origin/master).
После fetch новых данных с сервера, ветки не сливаются, поэтому нужно сделать git pull origin branch или git merge origin branch, что слить ветку в текущую.

### Отслеживаемые ветки

Ветки для которых установлена прямая связь с веткой в удаленном репозитории, git pull делает автоматически fetch и pull


## Перебазирование

Процесс слияния работы в гит может быть выполнения двумя командами это merge и rebase. Rebase берет и применяет изменения поверх нужного нам комита.
Берется diff каждого коммита с момента разветвления и по очереди применяются. Преимущество - делает историю комитов чище (линейной).